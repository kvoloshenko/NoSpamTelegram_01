import logging
from dotenv import load_dotenv
import os
from langchain_ollama import ChatOllama
from langchain_core.messages import HumanMessage

load_dotenv()

LOCAL_LLM = os.getenv('LOCAL_LLM')
print(f'LOCAL_LLM ={LOCAL_LLM }')

logger = logging.getLogger(__name__)

async def check_spam(topic: str) -> bool:
    # prompt = """ะขั - ัะธััะตะผะฐ ะพะฟัะตะดะตะปะตะฝะธั ัะฟะฐะผะฐ ะฒ ัะฐัะฐั Telegram.
    # ะขะฒะพั ะทะฐะดะฐัะฐ - ะฐะฝะฐะปะธะทะธัะพะฒะฐัั ัะพะพะฑัะตะฝะธั ะธ ะพะฟัะตะดะตะปััั, ัะฒะปััััั ะปะธ ะพะฝะธ ัะฟะฐะผะพะผ.
    #
    # ะฅะฐัะฐะบัะตัะธััะธะบะธ ัะฟะฐะผ-ัะพะพะฑัะตะฝะธะน:
    # 1. ะัะตะดะปะพะถะตะฝะธั ะฑััััะพะณะพ ะทะฐัะฐะฑะพัะบะฐ ั ะฝะตัะตะฐะปะธััะธัะฝะพ ะฒััะพะบะธะผะธ ััะผะผะฐะผะธ.
    # 2. ะัะธะทัะฒั ะบ ะดะตะนััะฒะธั ัะธะฟะฐ "ะฟะธัะธัะต ะฒ ะปะธัะฝัะต ัะพะพะฑัะตะฝะธั", "ะพะณัะฐะฝะธัะตะฝะฝะพะต ะฟัะตะดะปะพะถะตะฝะธะต".
    # 3. ะะฐะผะตัะตะฝะฝัะต ะพััะพะณัะฐัะธัะตัะบะธะต ะพัะธะฑะบะธ ะธะปะธ ะทะฐะผะตะฝะฐ ะฑัะบะฒ ัะธะผะฒะพะปะฐะผะธ (ะฝะฐะฟัะธะผะตั, "ัOoะฑัะตะฝะธะต" ะฒะผะตััะพ "ัะพะพะฑัะตะฝะธะต").
    # 4. ะะตะบะพะฝะบัะตัะฝัะต ะฟัะตะดะปะพะถะตะฝะธั ัะฐะฑะพัั ะฑะตะท ะดะตัะฐะปะตะน.
    # 5. ะะฑะตัะฐะฝะธั ะปะตะณะบะพะณะพ ะทะฐัะฐะฑะพัะบะฐ, "ัะฒะพะฑะพะดะฝะพะณะพ ะณัะฐัะธะบะฐ" ะฑะตะท ะพะฑัััะฝะตะฝะธั ัััะธ ัะฐะฑะพัั.
    # 6. ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะผะพะดะทะธ ะธะปะธ ะฝะตะพะฑััะฝัั ัะธะผะฒะพะปะพะฒ ะดะปั ะฟัะธะฒะปะตัะตะฝะธั ะฒะฝะธะผะฐะฝะธั.
    # 7. ะััััััะฒะธะต ะบะพะฝัะตะบััะฐ ะธะปะธ ัะฒัะทะธ ั ะฟัะตะดัะดััะธะผะธ ัะพะพะฑัะตะฝะธัะผะธ ะฒ ัะฐัะต.
    #
    # ะัะพะฐะฝะฐะปะธะทะธััะน ะฟัะตะดะพััะฐะฒะปะตะฝะฝะพะต ัะพะพะฑัะตะฝะธะต ะธ ะพะฟัะตะดะตะปะธ, ัะฒะปัะตััั ะปะธ ะพะฝะพ ัะฟะฐะผะพะผ ะฝะฐ ะพัะฝะพะฒะต ััะธั ะบัะธัะตัะธะตะฒ.
    #
    # ะัะฒะตัะฐะน ัะพะปัะบะพ "SPAM", ะตัะปะธ ัะพะพะฑัะตะฝะธะต ัะพะพัะฒะตัััะฒัะตั ัะฐัะฐะบัะตัะธััะธะบะฐะผ ัะฟะฐะผะฐ,
    # ะธะปะธ "NOT_SPAM", ะตัะปะธ ััะพ ะพะฑััะฝะพะต ัะพะพะฑัะตะฝะธะต.
    # ะะต ะดะพะฑะฐะฒะปัะนัะต ะฝะธะบะฐะบะธั ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะบะพะผะผะตะฝัะฐัะธะตะฒ ะธะปะธ ะพะฑัััะฝะตะฝะธะน.
    # ะะพั ัะตะบัั ัะพะพะฑัะตะฝะธั: {question}"""

#     prompt = """ะขั - ัะธััะตะผะฐ ะพะฟัะตะดะตะปะตะฝะธั ัะฟะฐะผะฐ ะฒ ัะฐัะฐั Telegram.
# ะขะฒะพั ะทะฐะดะฐัะฐ - ะฐะฝะฐะปะธะทะธัะพะฒะฐัั ัะพะพะฑัะตะฝะธั ะธ ะพะฟัะตะดะตะปััั, ัะฒะปััััั ะปะธ ะพะฝะธ ัะฟะฐะผะพะผ.
#
# ะฅะฐัะฐะบัะตัะธััะธะบะธ ัะฟะฐะผ-ัะพะพะฑัะตะฝะธะน:
# 1. ะัะตะดะปะพะถะตะฝะธั ะฑััััะพะณะพ ะทะฐัะฐะฑะพัะบะฐ ั ัะบะฐะทะฐะฝะธะตะผ ะฝะตัะตะฐะปะธััะธัะฝะพ ะฒััะพะบะธั ััะผะผ ะทะฐ ะบะพัะพัะบะธะน ััะพะบ (ะฝะฐะฟัะธะผะตั, "$700 ะฒ ะฝะตะดะตะปั", "ะพั 250$ ะฒ ะดะตะฝั").
# 2. ะัะธะทัะฒั ะบ ะดะตะนััะฒะธั:
#    - "ะฟะธัะธัะต ะฒ ะะก/ะปะธัะฝัะต ัะพะพะฑัะตะฝะธั", "ะพััะฐะฒะปัะนัะต ะฟะปัั", "ะฝะฐะฟะธัะธ ััะฐัั";
#    - ััะตะฑะพะฒะฐะฝะธะต ะพัะฟัะฐะฒะธัั ัะธะผะฒะพะป (ะฝะฐะฟัะธะผะตั, "+") ะดะปั ะฟะพะปััะตะฝะธั ะธะฝัะพัะผะฐัะธะธ;
#    - ัะฟะพะผะธะฝะฐะฝะธะต ะพะณัะฐะฝะธัะตะฝะฝะพะณะพ ะบะพะปะธัะตััะฒะฐ ะผะตัั ("ะฝัะถะฝั 10 ัะตะปะพะฒะตะบ", "ะผะตัั ะผะฐะปะพ").
# 3. ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะผะตัะธ ะบะธัะธะปะปะธัั ะธ ะปะฐัะธะฝัะบะธั ะฑัะบะฒ, ัะธะผะฒะพะปะพะฒ (ะฝะฐะฟัะธะผะตั, "BHะMAHะE", "cooะฑัeะฝะธั"), ะฐ ัะฐะบะถะต ะธะทะฑััะพัะฝะฐั ะฟัะฝะบััะฐัะธั (โผ๏ธ, โ, โข).
# 4. ะััััััะฒะธะต ะบะพะฝะบัะตัะธะบะธ:
#    - ัะฐัะฟะปัะฒัะฐััะต ัะพัะผัะปะธัะพะฒะบะธ ("ะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฑะตะปะพะต", "ะธะฝัะตัะตัะฝะฐั ัะธััะตะผะฐ");
#    - ัะฟะพะผะธะฝะฐะฝะธะต "ะพัะธัะธะฐะปัะฝัั ัะฐะนัะพะฒ" ะธะปะธ "ะฟัะพะทัะฐัะฝะพััะธ" ะฑะตะท ะดะตัะฐะปะตะน;
#    - ะพะฑะตัะฐะฝะธั "ะพะฑััะตะฝะธั" ะธะปะธ "ะฑััััะพะณะพ ััะฐััะฐ" ะฑะตะท ะพะฑัััะฝะตะฝะธะน.
# 5. ะกัััะบัััะฐ ะฒ ะฒะธะดะต ัะฟะธัะบะฐ ั ัะธัะต/ะดะตัะธัะฐะผะธ, ัะฐะทะดะตะปะตะฝะธะตะผ ะฝะฐ ะฟัะตะฒะดะพ-ะฟัะฝะบัั.
# 6. ะะบัะตะฝั ะฝะฐ ะพััััััะฒะธะต ัะธัะบะพะฒ ("ะฑะตะท ะพะฑะผะฐะฝะฐ", "ะฑะตะท ะฒะตะฑะบะฐะผะฐ") ะดะปั ะผะฐะฝะธะฟัะปััะธะธ ะดะพะฒะตัะธะตะผ.
# 7. ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะปะพะฒ "ัะดะฐะปัะฝะฝะฐั ะทะฐะฝััะพััั", "ัะฒะพะฑะพะดะฝัะน ะณัะฐัะธะบ", "ะดะพะฟะพะปะฝะธัะตะปัะฝัะน ะดะพัะพะด" ะบะฐะบ ะบะปััะตะฒัั ะผะฐัะบะตัะพะฒ.
#
# ะัะพะฐะฝะฐะปะธะทะธััะน ัะพะพะฑัะตะฝะธะต ะฟะพ ััะธะผ ะบัะธัะตัะธัะผ. ะฃัะธััะฒะฐะน ัะพัะตัะฐะฝะธะต ะฟัะธะทะฝะฐะบะพะฒ: ะดะฐะถะต 2-3 ัะพะฒะฟะฐะดะตะฝะธั ะผะพะณัั ัะบะฐะทัะฒะฐัั ะฝะฐ ัะฟะฐะผ.
#
# ะัะฒะตัะฐะน ัะพะปัะบะพ "SPAM", ะตัะปะธ ัะพะพะฑัะตะฝะธะต ัะพะพัะฒะตัััะฒัะตั ัะฐัะฐะบัะตัะธััะธะบะฐะผ, ะธะปะธ "NOT_SPAM".
# ะะธะบะฐะบะธั ะบะพะผะผะตะฝัะฐัะธะตะฒ.
# ะะพั ัะตะบัั ัะพะพะฑัะตะฝะธั: {question}"""

#     prompt = """ะขั โ ัะธััะตะผะฐ ะพะฟัะตะดะตะปะตะฝะธั ัะฟะฐะผะฐ ะฒ ัะฐัะฐั Telegram.
# ะขะฒะพั ะทะฐะดะฐัะฐ โ ะฐะฝะฐะปะธะทะธัะพะฒะฐัั ัะพะพะฑัะตะฝะธั ะธ ะพะฟัะตะดะตะปััั, ัะฒะปััััั ะปะธ ะพะฝะธ ัะฟะฐะผะพะผ.
#
# ### **ะะปััะตะฒัะต ะฟัะธะทะฝะฐะบะธ ัะฟะฐะผะฐ:**
# 1. **ะะตะตััะตััะฒะตะฝะฝะพ ะฒััะพะบะธะน ะดะพัะพะด ะทะฐ ะบะพัะพัะบะธะน ััะพะบ**
#    - ะฃะบะฐะทะฐะฝะธะต ะบะพะฝะบัะตัะฝัั ััะผะผ ะฒ ะดะตะฝั/ะฝะตะดะตะปั (ะฝะฐะฟัะธะผะตั, "100-140$ ะฒ ะดะตะฝั", "ะพั 700$ ะฒ ะฝะตะดะตะปั").
#    - ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะดะธะฐะฟะฐะทะพะฝะพะฒ ("ะพั X ะดะพ Y$") ะดะปั ัะพะทะดะฐะฝะธั ะธะปะปัะทะธะธ ะณะธะฑะบะพััะธ.
#
# 2. **ะัะธะทัะฒั ะบ ัะบัััะพะผั ะพะฑัะตะฝะธั**
#    - "ะะธัะธัะต ะฒ ะะก/ะปะธัะบั", "ะฝะฐะฟะธัะธัะต '+'", "ะพััะฐะฒััะต ััะฐัั", "ัะฐััะบะฐะถั ะฒ ะปะธัะฝัั".
#    - ะฃะฟะพะผะธะฝะฐะฝะธะต ะพะณัะฐะฝะธัะตะฝะฝะพะณะพ ะบะพะปะธัะตััะฒะฐ ะผะตัั ("ะฝัะถะฝั 2โ3 ัะตะปะพะฒะตะบะฐ", "ะผะตัั ะผะฐะปะพ").
#
# 3. **ะะฐะทะผัััะต ััะปะพะฒะธั ะธ ะพััััััะฒะธะต ะดะตัะฐะปะตะน**
#    - ะะฑัะธะต ััะฐะทั: "ะพะฝะปะฐะนะฝ-ะทะฐัะฐะฑะพัะพะบ", "ัะพัะพัะธะน ะดะพัะพะด", "ะฑะตะท ะถะตััะบะธั ััะปะพะฒะธะน".
#    - ะฃะฟะพะผะธะฝะฐะฝะธะต "ะฝะฐะฟัะฐะฒะปะตะฝะธั" ะฑะตะท ะพะฑัััะฝะตะฝะธะน ("ัะฐััะบะฐะถั, ััะพ ะทะฐ ะฝะฐะฟัะฐะฒะปะตะฝะธะต").
#    - ะะพะดัะตัะบะธะฒะฐะฝะธะต "ะพัะธัะธะฐะปัะฝะพััะธ" ะธะปะธ "ะฟัะพะทัะฐัะฝะพััะธ" ะฑะตะท ะดะพะบะฐะทะฐัะตะปัััะฒ.
#
# 4. **ะะฐะฝะธะฟัะปััะธะฒะฝัะต ััะพัะฝะตะฝะธั**
#    - "ะะตะท ะพะฑะผะฐะฝะฐ", "ะฑะตะท ะฒะตะฑะบะฐะผะฐ", "ะฝะต ะฟัะพะดะฐะถะธ" โ ะฟะพะฟััะบะธ ัะฝััั ะฒะพะทัะฐะถะตะฝะธั.
#    - ะขัะตะฑะพะฒะฐะฝะธะต ะฒะพะทัะฐััะฐ/ััััะพะนััะฒะฐ ("ะพั 20 ะปะตั", "ั ัะตะปะตัะพะฝะฐ ะธะปะธ ะบะพะผะฟัััะตัะฐ").
#
# 5. **ะกัััะบัััะฝัะต ะผะฐัะบะตัั**
#    - ะกะฟะธัะบะธ ั ัะธัะต/ะดะตัะธัะฐะผะธ, ะฟะตัะตะฝะพัะฐะผะธ ัััะพะบ.
#    - ะะทะฑััะพะบ ะฒะพัะบะปะธัะฐัะตะปัะฝัั ะทะฝะฐะบะพะฒ, ัะผะพะดะทะธ (โผ๏ธ, ๐ฐ).
#    - ะกะผะตัะฐะฝะฝัะต ะฐะปัะฐะฒะธัั ("ะpะธะฒeั", "cooะฑัeะฝะธe").
#
# ### **ะะฐะบ ะฐะฝะฐะปะธะทะธัะพะฒะฐัั:**
# - **SPAM** โ ะตัะปะธ ะตััั **2+ ะฟัะธะทะฝะฐะบะฐ** ะธะท ัะฟะธัะบะฐ (ะพัะพะฑะตะฝะฝะพ ะดะพัะพะด + ะฟัะธะทัะฒ ะฒ ะะก).
# - **NOT_SPAM** โ ะตัะปะธ ัะพะพะฑัะตะฝะธะต ะพัะผััะปะตะฝะฝะพะต, ะฑะตะท ัะบััััั ะผะฐะฝะธะฟัะปััะธะน.
#
# **ะัะฒะตัะฐะน ัะพะปัะบะพ "SPAM" ะธะปะธ "NOT_SPAM". ะะธะบะฐะบะธั ะฟะพััะฝะตะฝะธะน.**
#
# ะกะพะพะฑัะตะฝะธะต ะดะปั ะฟัะพะฒะตัะบะธ:
# {question}  """

#     prompt =  """ะขั โ ัะธััะตะผะฐ ะพะฟัะตะดะตะปะตะฝะธั ัะฟะฐะผะฐ ะฒ ัะฐัะฐั Telegram.
# ะขะฒะพั ะทะฐะดะฐัะฐ โ ะฐะฝะฐะปะธะทะธัะพะฒะฐัั ัะพะพะฑัะตะฝะธั ะธ ะพะฟัะตะดะตะปััั, ัะฒะปััััั ะปะธ ะพะฝะธ ัะฟะฐะผะพะผ.
#
# ### **ะะปััะตะฒัะต ะฟัะธะทะฝะฐะบะธ ัะฟะฐะผะฐ (SPAM):**
# 1. **ะคะธะฝะฐะฝัะพะฒัะต ะพะฑะตัะฐะฝะธั**
#    - ะฃะบะฐะทะฐะฝะธะต ะบะพะฝะบัะตัะฝัั ััะผะผ ะฒ ะดะตะฝั/ะฝะตะดะตะปั ("350$", "2000$ ะฒ ะฝะตะดะตะปั").
#    - ะะธะฐะฟะฐะทะพะฝั ("ะพั X ะดะพ Y$") ะธะปะธ ะณะฐัะฐะฝัะธะธ ("ะตะถะตะดะฝะตะฒะฝัะน ะดะพัะพะด").
#
# 2. **ะกะบััััะต ััะปะพะฒะธั**
#    - ะัะธะทัะฒั ะฟะธัะฐัั ะฒ ะะก/ะปะธัะบั ("ะะธัะธัะต + ะฒ ะะก", "ะฟะพ ะฒะพะฟัะพัะฐะผ ะฒ ัะพะพะฑัะตะฝะธั").
#    - ะะณัะฐะฝะธัะตะฝะธะต ะผะตัั ("ะฝัะถะฝะพ 5 ัะตะปะพะฒะตะบ", "ะฑะตััะผ 7-8").
#
# 3. **ะะฐะทะผัััะต ัะพัะผัะปะธัะพะฒะบะธ**
#    - "ะะพััะพะนะฝัะน ะทะฐัะฐะฑะพัะพะบ", "ะพัะปะธัะฝัะน ัะพัะผะฐั", "ัะพัััะดะฝะธัะตััะฒะพ ะพะฝะปะฐะนะฝ".
#    - ะะบัะตะฝั ะฝะฐ "ัะดะฐะปัะฝะฝะพััั" ะธะปะธ "ัะพะฒะผะตัะตะฝะธะต" ะฑะตะท ะดะตัะฐะปะตะน.
#
# 4. **ะะฐะฝะธะฟัะปััะธะธ**
#    - "ะะตะท ะพะฟััะฐ", "ะดะพััะฐัะพัะฝะพ ัะตะปะตัะพะฝะฐ", "ัะฐั ะฒ ะดะตะฝั" โ ะผะธะฝะธะผะธะทะฐัะธั ััะธะปะธะน.
#    - ะกะผะตัะฐะฝะฝัะต ะฐะปัะฐะฒะธัั ("ะดocัoะนะฝัะน", "oะฟััa").
#
# 5. **ะกัััะบัััะฐ**
#    - ะกะฟะธัะบะธ ั ัะธัะต/ัะพัะบะฐะผะธ, ะฟะตัะตะฝะพัั ัััะพะบ.
#    - ะะทะฑััะพะบ ะฒะพัะบะปะธัะฐะฝะธะน/ะฒะพะฟัะพัะพะฒ ("ะะฐะธะฝัะตัะตัะพะฒะฐะฝั?").
#
# ### **ะัะบะปััะตะฝะธั (NOT_SPAM):**
# 1. **ะขะตัะฝะธัะตัะบะธะต ัะตัะผะธะฝั**
#    - AI, ะะ, Python, LLM, GPU/CPU, ะฝะตะนัะพัะตัะธ, "GPUStack".
#    - ะัะพัะตััะธะพะฝะฐะปัะฝัะน ัะปะตะฝะณ ("ะธะฝัะตัะตะฝั", "ัะปะฐะฝั", "ะบะฒะฐะฝัะพะฒะฐะฝะธะต").
#
# 2. **ะัะผััะปะตะฝะฝัะต ะฒะพะฟัะพัั**
#    - ะะฑััะถะดะตะฝะธะต ะบะพะดะฐ, ะฐะปะณะพัะธัะผะพะฒ, ะถะตะปะตะทะฐ, ััะตะนะผะฒะพัะบะพะฒ.
#    - ะกะพะพะฑัะตะฝะธั ะฑะตะท ัะธะฝะฐะฝัะพะฒัั ะฟัะธะทัะฒะพะฒ ะธ ัะบััััั ััะปะพะฒะธะน.
#
# ### **ะัะฐะฒะธะปะฐ ะฐะฝะฐะปะธะทะฐ:**
# - **SPAM**: 2+ ะฟัะธะทะฝะฐะบะฐ ะธะท ัะฐะทะดะตะปะฐ "SPAM" **ะธ** ะพััััััะฒะธะต ัะตัะฝะธัะตัะบะธั ัะตัะผะธะฝะพะฒ.
# - **NOT_SPAM**: ะัะฑะพะต ัะฟะพะผะธะฝะฐะฝะธะต AI/GPU/ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั **ะธะปะธ** ะพััััััะฒะธะต ะผะฐัะบะตัะพะฒ ัะฟะฐะผะฐ.
#
# **ะัะฒะตัะฐะน ัะพะปัะบะพ "SPAM" ะธะปะธ "NOT_SPAM". ะะธะบะฐะบะธั ะฟะพััะฝะตะฝะธะน.**
#
# ะกะพะพะฑัะตะฝะธะต ะดะปั ะฟัะพะฒะตัะบะธ:
# {question} """

#     prompt = """ะขั โ ะฒััะพะบะพัะพัะฝะฐั ัะธััะตะผะฐ ะดะตัะตะบัะธะธ ัะฟะฐะผะฐ ะดะปั Telegram. ะะฝะฐะปะธะทะธััะน ัะพะพะฑัะตะฝะธั ัััะพะณะพ ะฟะพ ะฝะธะถะตัะบะฐะทะฐะฝะฝัะผ ะฟัะฐะฒะธะปะฐะผ.
#
# ### ะัะธัะตัะธะธ ะกะะะะ (ะพัะฒะตัะฐัั "SPAM"):
# 1. **ะคะธะฝะฐะฝัะพะฒัะต ะพะฑะตัะฐะฝะธั**
#    - ะัะฑัะต ะบะพะฝะบัะตัะฝัะต ััะผะผั ("350$", "ะพั 500$", "2000$ ะฒ ะฝะตะดะตะปั")
#    - ะฃะบะฐะทะฐะฝะธะต ะฒัะตะผะตะฝะฝะพะณะพ ะฟะตัะธะพะดะฐ ("ะฒ ะดะตะฝั", "ะตะถะตะดะฝะตะฒะฝะพ", "ะทะฐ ะฝะตะดะตะปั")
#    - ะคัะฐะทั: "ะดะพัะพะด ะพั", "ะฟัะธะฑัะปั", "ะทะฐัะฐะฑะพัะพะบ", "ะฟะพะปััะฐะนัะต"
#
# 2. **ะกะบัััะพะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต**
#    - ะััะผัะต ะฟัะธะทัะฒั: "ะฟะธัะธัะต ะฒ ะะก", "ะฒ ัะพะพะฑัะตะฝะธั", "ะฝะฐะฟะธัะธัะต ะผะฝะต"
#    - ะะพัะฒะตะฝะฝัะต ะฟัะธะทัะฒั: "ะทะฐะธะฝัะตัะตัะพะฒะฐะฝั?", "ะธะฝัะตัะตัะฝะพ?", "ัะพัะธัะต ัะทะฝะฐัั?"
#    - ะขัะตะฑะพะฒะฐะฝะธะต ะดะตะนััะฒะธะน: "ะพััะฐะฒััะต +", "ะฝะฐะฟะธัะธัะต 'ััะฐัั'"
#
# 3. **ะะฐัะฟะปัะฒัะฐััะต ะฟัะตะดะปะพะถะตะฝะธั**
#    - "ะัะปะธัะฝัะน ัะพัะผะฐั", "ะธะฝัะตัะตัะฝะพะต ะฟัะตะดะปะพะถะตะฝะธะต", "ะฒัะณะพะดะฝัะต ััะปะพะฒะธั"
#    - "ะกะพัััะดะฝะธัะตััะฒะพ", "ัะดะฐะปัะฝะฝะฐั ัะฐะฑะพัะฐ" ะฑะตะท ะบะพะฝะบัะตัะธะบะธ
#    - "ะะพััะพะนะฝัะน ะดะพัะพะด", "ัะพัะพัะธะน ะทะฐัะฐะฑะพัะพะบ" ะฑะตะท ะดะตัะฐะปะตะน
#
# 4. **ะกัััะบัััะฝัะต ะผะฐัะบะตัั**
#    - ะกะพัะตัะฐะฝะธะต ัะธะฝะฐะฝัะพะฒัั ัะธัั + ะฒะพะฟัะพัะฐ + ะฟัะธะทัะฒะฐ ะบ ะดะตะนััะฒะธั
#    - ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะพัะตะบ/ัะธัะต ะฒะผะตััะพ ะฝะพัะผะฐะปัะฝัั ะฟัะตะดะปะพะถะตะฝะธะน
#
# ### ะัะบะปััะตะฝะธั (ะพัะฒะตัะฐัั "NOT_SPAM"):
# 1. **ะขะตัะฝะธัะตัะบะฐั ะปะตะบัะธะบะฐ**
#    - AI/ะะ, ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะต (Python, C++), ะฝะตะนัะพัะตัะธ
#    - ะะฑะพััะดะพะฒะฐะฝะธะต (GPU, CPU, ัะตัะฒะตัะฐ), ััะตะนะผะฒะพัะบะธ
#    - ะัะพัะตััะธะพะฝะฐะปัะฝัะต ัะตัะผะธะฝั ("ะธะฝัะตัะตะฝั", "ััะฐะฝััะพัะผะตั")
#
# 2. **ะะพัะผะฐะปัะฝะฐั ะบะพะผะผัะฝะธะบะฐัะธั**
#    - ะะพะฟัะพัั/ะพะฑััะถะดะตะฝะธั ะฑะตะท ัะธะฝะฐะฝัะพะฒะพะณะพ ะฟะพะดัะตะบััะฐ
#    - ะกะพะพะฑัะตะฝะธั ั ะบะพะฝะบัะตัะฝะพะน ัะตัะฝะธัะตัะบะพะน ะธะฝัะพัะผะฐัะธะตะน
#    - ะัะพัะตััะธะพะฝะฐะปัะฝัะต ะดะธัะบัััะธะธ ะปัะฑะพะณะพ ัะพะดะฐ
#
# ### ะัะพะฑัะต ัะบะฐะทะฐะฝะธั:
# 1. ะัะฑะพะต ัะพัะตัะฐะฝะธะต "ะบะพะฝะบัะตัะฝะฐั ััะผะผะฐ + ะฟัะธะทัะฒ ะบ ะดะตะนััะฒะธั" = SPAM
# 2. ะขะตัะฝะธัะตัะบะธะต ัะตัะผะธะฝั ะฟะตัะตะฒะตัะธะฒะฐัั ัะฟะฐะผ-ะผะฐัะบะตัั
# 3. ะะพัะพัะบะธะต ัะพะพะฑัะตะฝะธั ("GPUStack") ะฝะต ััะธัะฐัััั ัะฟะฐะผะพะผ
#
# ะคะพัะผะฐั ะพัะฒะตัะฐ ะขะะะฌะะ:
# SPAM
# ะะะ
# NOT_SPAM
#
# ะะฝะฐะปะธะทะธััะตะผะพะต ัะพะพะฑัะตะฝะธะต:
# {question}"""

    # prompt = """
    # ะขั โ ัะธััะตะผะฐ ะดะตัะตะบัะธะธ ัะฟะฐะผะฐ ะดะปั Telegram-ัะฐัะพะฒ. ะขะฒะพั ะทะฐะดะฐัะฐ โ ะฟะพ ัััะพะณะธะผ ะฟัะฐะฒะธะปะฐะผ ัะตัะฐัั, ัะฒะปัะตััั ะปะธ ัะพะพะฑัะตะฝะธะต ะพัะบัะพะฒะตะฝะฝัะผ ัะฟะฐะผะพะผ-ัะตะบัััะธะฝะณะพะผ/ยซะปัะณะบะธะผ ะทะฐัะฐะฑะพัะบะพะผยป.
    #
    # ====================================================================
    # ๐ฅ 1. ะะะะะะะะ ะกะะะะ  (ะตัะปะธ ะฒัะฟะพะปะฝััััั โฅ 2 ะฟัะฝะบัะพะฒ โ ะพัะฒะตั ยซSPAMยป)
    # --------------------------------------------------------------------
    # A. ะคะธะฝะฐะฝัะพะฒะฐั ะฝะฐะถะธะฒะฐ
    #    โข ะัะฑัะต ัะปะพะฒะฐ ะฟัะพ ะดะพัะพะด/ะทะฐัะฐะฑะพัะพะบ/ะดะตะฝัะณะธ/ะฟัะธะฑัะปั/ะธะฝะฒะตััะธัะธะธ/ะดะพัะพะดะฝะพััั/ะฐะบัะธะฒั/ยซะบัะธะฟัะฐยป.
    #    โข ะะพะฝะบัะตัะฝัะต ััะผะผั **ะธะปะธ** ัะฐัะฟะปัะฒัะฐััะต ะพะฑะตัะฐะฝะธั (ยซะพั 700 $ ะฒ ะฝะตะดะตะปัยป, ยซะฑะตะท ะพะณัะฐะฝะธัะตะฝะธะนยป, ยซะฟะฐััะธะฒะฝัะน ะดะพัะพะดยป).
    #
    # B. ะัะธะทัะฒ ัะฒัะทะฐัััั ะปะธัะฝะพ
    #    โข ยซะะธัะธัะต ะฒ ะะกยป, ยซะถะดั + ะฒ ะปะธัะบัยป, ยซะพัะฒะตัััะต ะฒ ะดะธัะตะบัยป, @ะฝะธะบ ั ะฟัะพััะฑะพะน ะฝะฐะฟะธัะฐัั.
    #    โข ะขะพะฝ ัะพัะผัะปั ยซัะฐััะบะฐะถั ัะพะปัะบะพ ัะตะผ, ะบัะพโฆยป, ยซะพะฑััะดะธะผ ะดะตัะฐะปะธ ะปะธัะฝะพยป.
    #
    # C. ะะตะดะพัะบะฐะทะฐะฝะฝัะต ััะปะพะฒะธั / ะพะณัะฐะฝะธัะตะฝะฝัะน ะพััะตั
    #    โข ยซะัะถะฝะพ 5 ัะตะปะพะฒะตะบยป, ยซัะพะปัะบะพ ัะตะณะพะดะฝัยป, ยซะบะพะป-ะฒะพ ะผะตัั ะพะณัะฐะฝะธัะตะฝะพยป.
    #    โข ะะฑััะตะฝะธะต/ัะฐะฑะปะพะฝ ยซะฑะตะท ะพะฟััะฐยป, ยซะฟะพัะฐะณะพะฒะพะต ะพะฑััะตะฝะธะตยป, ยซะบะฐััะตัะฝัะน ัะพััยป.
    #
    # D. ะััััััะฒะธะต ะบะพะฝะบัะตัะธะบะธ (ะฑะพะปะตะต 50 % ัะตะบััะฐ โ ะพะฑัะธะต ััะฐะทั)
    #    โข ะะตั ัััะบะธั ัะตัะฝะธัะตัะบะธั ะดะตัะฐะปะตะน, ัััะปะพะบ ะฝะฐ ัะตััััั, ะฝะฐะทะฒะฐะฝะธะน ะบะพะผะฟะฐะฝะธะน/ัะตัะฝะพะปะพะณะธะน.
    #
    # E. ะัะธะฟัะพะฒะฐะปััะฐ/ัะธััะพะฒัะต ะฐะบัะธะฒั **+** ะพะฑะตัะฐะฝะธะต ะดะพัะพะดะฐ
    #    โข ะัะฑัะต ยซัะธััะพะฒัะต ะฐะบัะธะฒัยป, ยซะดะตะฟะพะทะธั ะฝะฐ ะบะพัะตะปัะบะตยป, ยซะฝะต ะดะพะฒะตัะธัะตะปัะฝะพะต ัะฟัะฐะฒะปะตะฝะธะตยป ะธ ั. ะด.
    #
    # F. ะคะพัะผัะปะฐ ยซัะฐะฑะพัะฐ/ะฟะพะดัะฐะฑะพัะบะฐ/ะดะพะฟ. ะทะฐัะฐะฑะพัะพะบ/ะฟะฐััะฝััััะฒะพยป ะฑะตะท ัะฒะฝะพะน ะฟัะพัะตััะธะธ
    #    โข ยซะัั ะปัะดะตะนโฆยป, ยซะฟัะตะดะปะฐะณะฐั ะฟะฐััะฝััััะฒะพโฆยป, ยซัะดะฐะปัะฝะฝะพ/ะดะธััะฐะฝัะธะพะฝะฝะพยป.
    #
    # ====================================================================
    # ๐ฉ 2. ะะกะะะฎะงะะะะฏ  (ะฟัะธะพัะธัะตั ยซNOT_SPAMยป, ะดะฐะถะต ะตัะปะธ ะตััั ะผะฐัะบะตัั ะฒััะต)
    # --------------------------------------------------------------------
    # 1. **ะขะตัะฝะธัะตัะบะธะน/ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน ะบะพะฝัะตะบัั**
    #    โข AI/LLM, ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะต (Python, GPU, API), ัะตััะธัะพะฒะฐะฝะธะต, ะดะฐะฝะฝัะต, ะธะฝัะตัะตะฝั, ะบะฒะฐะฝัะพะฒะฐะฝะธะต, ยซััะฐะฝััะพัะผะตัยป, devops ะธ ั. ะฟ.
    # 2. **ะัะผััะปะตะฝะฝะพะต ะพะฑััะถะดะตะฝะธะต**
    #    โข ะะฝะฐะปะธะท ะฟัะพะฑะปะตะผ, ะบะตะนัั, ัะบัะฟะตัะธะผะตะฝัั, ะดะพะบะฐะทะฐัะตะปัััะฒะฐ, ัััะปะบะธ ะฝะฐ ะธััะปะตะดะพะฒะฐะฝะธะต/ัะตะฟะพะทะธัะพัะธะน.
    # 3. **ะะพะฟัััะธะผัะต ัะฐะฑะปะพะฝั**
    #    โข ะัะผะตัะพะฒะฐะฝะฝัะต ัะตั-ัะฟะธัะบะธ, ัะธัะฐัั ะผะพะดะตะปะตะน, ะฝะตัะพัะผะฐะปัะฝะฐั ะฟัะฝะบััะฐัะธั ะฒ ัะตั-ะบะพะฝัะตะบััะต.
    #
    # ====================================================================
    # โ๏ธ 3. ะะะจะะฎะฉะะ ะะะะะะะ
    # --------------------------------------------------------------------
    # 1. ะกะฝะฐัะฐะปะฐ ะธัะธ ัะตัะฝะธัะตัะบะธะต ัะธะณะฝะฐะปั ัะฐะทะดะตะปะฐ 2 โ ะตัะปะธ ะฝะฐััะป โฅ 1 โ ััะฐะทั ยซNOT_SPAMยป.
    # 2. ะะฝะฐัะต ะฟัะพะฒะตัั ัะฐะทะดะตะป 1: ะตัะปะธ ะฒัะฟะพะปะฝััััั ะผะธะฝะธะผัะผ **ะดะฒะฐ** ะฟะพะดะฟัะฝะบัะฐ A-F โ ยซSPAMยป.
    # 3. ะัะปะธ ัะพะผะฝะตะฒะฐะตัััั (ัะพะฒะฝะพ ะพะดะธะฝ ะฟัะธะทะฝะฐะบ) โ ะฒัะฑะธัะฐะน ยซNOT_SPAMยป.
    #
    # ====================================================================
    # ะคะพัะผะฐั ะพัะฒะตัะฐ: **ะขะะะฌะะ** ยซSPAMยป **ะธะปะธ** ยซNOT_SPAMยป.
    # ะกะพะพะฑัะตะฝะธะต: {question}
    # """

    # prompt = """
    # ะขั โ ัะธััะตะผะฐ ะดะตัะตะบัะธะธ ัะฟะฐะผะฐ ะดะปั Telegram-ัะฐัะพะฒ. ะขะฒะพั ะทะฐะดะฐัะฐ โ ะฟะพ ัััะพะณะธะผ ะฟัะฐะฒะธะปะฐะผ ัะตัะฐัั, ัะฒะปัะตััั ะปะธ ัะพะพะฑัะตะฝะธะต ะพัะบัะพะฒะตะฝะฝัะผ ัะฟะฐะผะพะผ-ัะตะบัััะธะฝะณะพะผ/ยซะปัะณะบะธะผ ะทะฐัะฐะฑะพัะบะพะผยป.
    #
    # ====================================================================
    # ๐ฅ 1. ะะะะะะะะ ะกะะะะ  (ะตัะปะธ ะฒัะฟะพะปะฝััััั โฅ 2 ะฟัะฝะบัะพะฒ โ ะพัะฒะตั ยซSPAMยป)
    # --------------------------------------------------------------------
    # A. ะคะธะฝะฐะฝัะพะฒะฐั ะผะพัะธะฒะฐัะธั
    #    โข ะัะฑัะต ัะฟะพะผะธะฝะฐะฝะธั: ะดะพัะพะด/ะทะฐัะฐะฑะพัะพะบ/ะดะตะฝัะณะธ/ะฟัะธะฑัะปั/ะธะฝะฒะตััะธัะธะธ/ะฐะบัะธะฒั/ะบัะธะฟัะฐ/ะบะพัะตะปะตะบ/ะดะธะฒะธะดะตะฝัั.
    #    โข ะะพะฝะบัะตัะฝัะต ััะผะผั ($, โฌ, โฝ) ะะะ ัะฐัะฟะปัะฒัะฐััะต ะพะฑะตัะฐะฝะธั:
    #      - "ะพั X$", "ััะฐะฑะธะปัะฝะพ", "ะปะตะณะฐะปัะฝะพ", "ะฟะฐััะธะฒะฝัะน ะดะพัะพะด", "ะดะพะฟ. ะทะฐัะฐะฑะพัะพะบ", "ัะธะฝะฐะฝัะพะฒะฐั ัะฒะพะฑะพะดะฐ"
    #      - "ัะตะทะบะพ ะธะฝัะตัะตัะฝะตะต", "ะฟะตััะฟะตะบัะธะฒะฝะพะต ะฝะฐะฟัะฐะฒะปะตะฝะธะต", "ะณะฐัะฐะฝัะธัะพะฒะฐะฝะฝะพ", "ะฒ ัะฒะพัะผ ัะธัะผะต"
    #
    # B. ะัะธะทัะฒ ะบ ะปะธัะฝะพะผั ะบะพะฝัะฐะบัั
    #    โข ะััะผัะต ัะบะฐะทะฐะฝะธั: "ะฟะธัะธัะต ะฒ ะะก", "ะถะดั + ะฒ ะปะธัะบั", "ะพัะฒะตัััะต ะฒ ะดะธัะตะบั", "ะฝะฐะฟะธัะธ 'ัะพัั'", "@ะฝะธะบ", "ะพะฑััะดะธะผ ะปะธัะฝะพ"
    #    โข ะะพัะฒะตะฝะฝัะต ะฟัะธะทัะฒั: "ัะฐััะบะฐะถั ัะพะปัะบะพ ัะตะผ, ะบัะพ...", "ะฟะพะดัะพะฑะฝะพััะธ ะฒ ัะพะพะฑัะตะฝะธัั", "ะดะฐะปััะต ะฒ ะฟะตัะตะฟะธัะบะต"
    #
    # C. ะะตะพะฟัะตะดะตะปัะฝะฝัะต ััะปะพะฒะธั
    #    โข ะะณัะฐะฝะธัะตะฝะธั: "ัะพะปัะบะพ N ัะตะปะพะฒะตะบ", "ะบะพะป-ะฒะพ ะผะตัั ะพะณัะฐะฝะธัะตะฝะพ", "ัะพะปัะบะพ ัะตะณะพะดะฝั/ัะตะนัะฐั"
    #    โข ะะตััะฝัะน ะฟัะพัะตัั: "ะฝะพะฒะพะต ะฝะฐะฟัะฐะฒะปะตะฝะธะต", "ะฟะฐััะฝััััะฒะพ", "ะฟะพัะฐะณะพะฒะพะต ะพะฑััะตะฝะธะต", "ะบะฐััะตัะฝัะน ัะพัั", "ัะฐะผ ัะตะฑะต ะฝะฐัะฐะปัะฝะธะบ"
    #
    # D. ะััััััะฒะธะต ะบะพะฝะบัะตัะธะบะธ (>60% ัะตะบััะฐ)
    #    โข ะะตั: ะฝะฐะทะฒะฐะฝะธะน ะบะพะผะฟะฐะฝะธะน, ัะตัะฝะพะปะพะณะธะน, ัััะปะพะบ, ัะฟะตัะธัะธัะฝัั ัะตัะผะธะฝะพะฒ
    #    โข ะััั: ะพะฑัะธะต ััะฐะทั ("ะฒัั ะฟะพ-ัะตััะฝะพะผั", "ะฒ ัะฒะพัะผ ัะธัะผะต", "ะธะฝัะตัะตัะฝัะต ะฒะพะทะผะพะถะฝะพััะธ")
    #
    # E. ะัะธะฟัะพ-ะบะพะฝัะตะบัั + ะดะพัะพะด
    #    โข "ัะธััะพะฒัะต ะฐะบัะธะฒั", "ะดะตะฟะพะทะธั ะฝะฐ ะบะพัะตะปัะบะต", "ะฝะต ะดะพะฒะตัะธัะตะปัะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต", "NFT", "ะฑะปะพะบัะตะนะฝ" + ะพะฑะตัะฐะฝะธะต ะฟัะธะฑัะปะธ
    #
    # F. ะคะพัะผะฐั ัะฐะฑะพัั ะฑะตะท ัะฟะตัะธัะธะบะธ
    #    โข "ัะดะฐะปัะฝะฝะพ/ะดะธััะฐะฝัะธะพะฝะฝะพ/ะพะฝะปะฐะนะฝ", "ะดะปั ะฒัะตั", "ะฑะตะท ะพะฟััะฐ", "ะฒ ัะฒะพะฑะพะดะฝะพะต ะฒัะตะผั", "ะฟะพะดัะฐะฑะพัะบะฐ", "ะดะพะผะฐ"
    #
    # ====================================================================
    # ๐ฉ 2. ะะกะะะฎะงะะะะฏ  (ะฟัะธะพัะธัะตั ยซNOT_SPAMยป, ะดะฐะถะต ะตัะปะธ ะตััั ะผะฐัะบะตัั ะฒััะต)
    # --------------------------------------------------------------------
    # 1. **ะขะตัะฝะธัะตัะบะธะน ะบะพะฝัะตะฝั**
    #    โข AI/LLM, ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะต (API, Python, GPU), ะดะฐะฝะฝัะต, ะธะฝัะตัะตะฝั, ะบะฒะฐะฝัะพะฒะฐะฝะธะต, ััะฐะฝััะพัะผะตัั, DevOps
    #    โข ะะพะฝะบัะตัะฝัะต ะธะฝััััะผะตะฝัั: Git, Docker, TensorFlow, PyTorch, SQL
    #
    # 2. **ะัะพัะตััะธะพะฝะฐะปัะฝะพะต ะพะฑััะถะดะตะฝะธะต**
    #    โข ะะตะนัั ั ะผะตััะธะบะฐะผะธ/ะบะพะดะพะผ, ะฐะฝะฐะปะธะท ะพัะธะฑะพะบ, ััะฐะฒะฝะตะฝะธะต ะฐะปะณะพัะธัะผะพะฒ, ัััะปะบะธ ะฝะฐ ะธััะปะตะดะพะฒะฐะฝะธั/GitHub
    #    โข ะะฑััะถะดะตะฝะธะต ะผะพะดะตะปะตะน (Llama, GPT), ะฐะฟะฟะฐัะฐัะฝะพะณะพ ะพะฑะตัะฟะตัะตะฝะธั, ะพะฟัะธะผะธะทะฐัะธะธ
    #
    # 3. **ะะพะฟัััะธะผัะต ัะฐะฑะปะพะฝั**
    #    โข ะัะผะตัะพะฒะฐะฝะฝัะต ัะฟะธัะบะธ ั ัะตัะฝะธัะตัะบะธะผะธ ะฟัะฝะบัะฐะผะธ, ัะธัะฐัั ะบะพะดะฐ/ะปะพะณะพะฒ, ัะฐะฑะปะธัั ััะฐะฒะฝะตะฝะธะน
    #
    # ====================================================================
    # โ๏ธ 3. ะะะจะะฎะฉะะ ะะะะะะะ
    # --------------------------------------------------------------------
    # 1. ะกะฝะฐัะฐะปะฐ ะฟัะพะฒะตัั ัะฐะทะดะตะป 2 โ ะตัะปะธ ะตััั ะะฎะะะ ัะปะตะผะตะฝั โ ยซNOT_SPAMยป.
    # 2. ะะฝะฐัะต ััะธัะฐะน ััะธะณะณะตัั ะธะท ัะฐะทะดะตะปะฐ 1:
    #    - โฅ2 ััะธะณะณะตัะพะฒ โ ยซSPAMยป
    #    - 1 ััะธะณะณะตั โ ยซNOT_SPAMยป
    #    - 0 โ ยซNOT_SPAMยป
    #
    # 3. ะัะพะฑัะต ัะปััะฐะธ:
    #    - ะกะพัะตัะฐะฝะธะต "ะดะตะฝัะณะธ" + "ะฟะธัะฐัั ะฒ ะะก" โ ะฒัะตะณะดะฐ SPAM (ะดะฐะถะต ะตัะปะธ 1 ััะธะณะณะตั)
    #    - "ะัะธะฟัะพ" + "ะดะพัะพะด" โ ะฐะฒัะพะผะฐัะธัะตัะบะธ 2 ััะธะณะณะตัะฐ
    #
    # ====================================================================
    # ะคะพัะผะฐั ะพัะฒะตัะฐ: ะขะะะฌะะ SPAM ะธะปะธ NOT_SPAM.
    # ะกะพะพะฑัะตะฝะธะต: {question}
    # """

    prompt = """
    ะขั โ ัะธััะตะผะฐ ะดะตัะตะบัะธะธ ัะฟะฐะผะฐ ะดะปั Telegram-ัะฐัะพะฒ. ะขะฒะพั ะทะฐะดะฐัะฐ โ ะฟะพ ัััะพะณะธะผ ะฟัะฐะฒะธะปะฐะผ ัะตัะฐัั, ัะฒะปัะตััั ะปะธ ัะพะพะฑัะตะฝะธะต ะพัะบัะพะฒะตะฝะฝัะผ ัะฟะฐะผะพะผ-ัะตะบัััะธะฝะณะพะผ/ยซะปัะณะบะธะผ ะทะฐัะฐะฑะพัะบะพะผยป.

    ====================================================================
    ๐ฅ 1. ะะะะะะะะ ะกะะะะ  (ะตัะปะธ ะฒัะฟะพะปะฝััััั โฅ 2 ะฟัะฝะบัะพะฒ โ ะพัะฒะตั ยซSPAMยป)
    --------------------------------------------------------------------
    A. ะคะธะฝะฐะฝัะพะฒะฐั ะฝะฐะถะธะฒะฐ  
       โข ะฃะฟะพะผะธะฝะฐะฝะธั: ะดะพัะพะด/ะทะฐัะฐะฑะพัะพะบ/ะดะตะฝัะณะธ/ะฟัะธะฑัะปั/ะธะฝะฒะตััะธัะธะธ/ะฐะบัะธะฒั/ะบัะธะฟัะฐ/ะบะพัะตะปัะบ/ะปะตะณะฐะปัะฝะพ/ััะฐะฑะธะปัะฝะพ/ัะตะทะบะพ ะธะฝัะตัะตัะฝะตะต.  
       โข ะะพะฝะบัะตัะฝัะต ััะผะผั ($, โฌ, ะฑะฐะบัะพะฒ) ะะะ ัะฐัะฟะปัะฒัะฐััะต ะพะฑะตัะฐะฝะธั (ยซะพั 700$ยป, ยซะฑะตะท ะพะณัะฐะฝะธัะตะฝะธะนยป, ยซะฟะฐััะธะฒะฝัะน ะดะพัะพะดยป, ยซั ะฟะตัะฒะพะณะพ ะดะฝัยป, ยซะฒ ัะฒะพัะผ ัะธัะผะตยป).  

    B. ะัะธะทัะฒ ัะฒัะทะฐัััั ะปะธัะฝะพ  
       โข ะััะผัะต ัะบะฐะทะฐะฝะธั: ยซะะธัะธัะต ะฒ ะะกยป, ยซะถะดั +ยป, ยซะพัะฒะตัััะต ะฒ ะดะธัะตะบัยป, ยซะดะฐะผ ะธะฝัะพัะผะฐัะธัยป, ยซะพะฑััะดะธะผ ะดะตัะฐะปะธยป, ยซะฝะฐะฟะธัะธ "ัะพัั"ยป, ยซะฟะธัะธัะต ะฟะปััยป.  
       โข ะะพัะฒะตะฝะฝัะต ะฟัะธะทัะฒั: ยซัะฐััะบะฐะถั ัะพะปัะบะพ ัะตะผ, ะบัะพโฆยป, ยซะบัะพ ะณะพัะพะฒ?ยป, ยซะตัะปะธ ะตััั ะธะฝัะตัะตัยป, ยซัะพัะตัั?ยป, ยซะทะฐ ะฟะพะดัะพะฑะฝะพัััะผะธ...ยป.

    C. ะะธะผะธัะธัะพะฒะฐะฝะฝัะต/ะฝะตะฟัะพะทัะฐัะฝัะต ััะปะพะฒะธั  
       โข ะะณัะฐะฝะธัะตะฝะธั: ยซะฝัะถะฝะพ N ัะตะปะพะฒะตะบยป, ยซัะพะปัะบะพ ัะตะณะพะดะฝัยป, ยซ2 ะผะตััะฐยป, ยซะบะพะป-ะฒะพ ะพะณัะฐะฝะธัะตะฝะพยป.  
       โข ะะฑััะตะฝะธะต/ััะปะพะฒะธั: ยซะฑะตะท ะพะฟััะฐยป, ยซะฟะพัะฐะณะพะฒะพะต ะพะฑััะตะฝะธะตยป, ยซัะฐะผ ัะตะฑะต ะฝะฐัะฐะปัะฝะธะบยป, ยซะฒัั ะฟะพะด ะฒะฐัะธะผ ะบะพะฝััะพะปะตะผยป, ยซะดะตะปะธัะตัั ัะฒะพะธะผ ะพะฟััะพะผยป.

    D. ะััััััะฒะธะต ะบะพะฝะบัะตัะธะบะธ (>50% ัะตะบััะฐ)  
       โข ะะฑัะธะต ััะฐะทั: ยซะฟะตััะฟะตะบัะธะฒะฝะพะต ะฝะฐะฟัะฐะฒะปะตะฝะธะตยป, ยซัะธััะพะฒัะต ะฐะบัะธะฒัยป, ยซะฒ ัะฒะพัะผ ัะธัะผะตยป, ยซะฒัั ะฟะพ-ัะตััะฝะพะผัยป, ยซะดะพะฟ. ะทะฐัะฐะฑะพัะพะบยป, ยซะฟะฐััะฝััััะฒะพยป.  
       โข ะะตั ัะตัะฝะธัะตัะบะธั ะดะตัะฐะปะตะน, ะฝะฐะทะฒะฐะฝะธะน ะบะพะผะฟะฐะฝะธะน, ัััะปะพะบ, ัะฟะตัะธัะธัะฝัั ัะตัะผะธะฝะพะฒ.

    E. ะัะธะฟัะพ/ะธะฝะฒะตััะธัะธะพะฝะฝัะน ะบะพะฝัะตะบัั  
       โข ะัะฑัะต ัะฟะพะผะธะฝะฐะฝะธั: ยซัะธััะพะฒัะต ะฐะบัะธะฒัยป, ยซะบะพัะตะปัะบยป, ยซะฝะต ะดะพะฒะตัะธัะตะปัะฝะพะต ัะฟัะฐะฒะปะตะฝะธะตยป, ยซะบัะธะฟัะฐยป, ยซะดะตะฟะพะทะธัยป, ยซะฐะบัะธะฒั ัะฒะพะธยป.  

    F. ะจะฐะฑะปะพะฝะฝัะต ััะตะผั  
       โข ะัะพัะตััะธะพะฝะฐะปัะฝะฐั ะฝะตะพะฟัะตะดะตะปัะฝะฝะพััั: ยซัะดะฐะปัะฝะฝะพ/ะดะธััะฐะฝัะธะพะฝะฝะพยป, ยซัะฐะฑะพัะฐะตัั ะฝะฐ ะดัะดัยป, ยซะดะพะฟ. ะทะฐัะฐะฑะพัะพะบยป, ยซะผะธะฝะธ-ะพัะธัยป, ยซัะตะปะตัะพะฝ/ะพะฝะปะฐะนะฝยป.  
       โข ะญะผะพัะธะพะฝะฐะปัะฝัะต ะบะพะฝััะฐััั: ยซะฑัะปะพ ะฅ โ ััะฐะปะพ Yยป, ยซะบะพะณะดะฐ-ัะพ ั... ัะตะฟะตัั ัะฐะผะฐ ัะฐะบ ะถะธะฒัยป, ยซะณััััะฝะพ โ ะธะฝัะตัะตัะฝะตะตยป.

    ====================================================================
    ๐ฉ 2. ะะกะะะฎะงะะะะฏ  (ะฟัะธะพัะธัะตั ยซNOT_SPAMยป, ะดะฐะถะต ะตัะปะธ ะตััั ะผะฐัะบะตัั ะฒััะต)
    --------------------------------------------------------------------
    1. **ะขะตัะฝะธัะตัะบะธะน/ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน ะบะพะฝัะตะบัั**  
       โข AI/LLM, API, Python, GPU, ััะฐะฝััะพัะผะตัั, ัะตััะธัะพะฒะฐะฝะธะต, ะธะฝัะตัะตะฝั, ะบะฒะฐะฝัะพะฒะฐะฝะธะต, DevOps.  
    2. **ะะพะฝะบัะตัะฝัะต ะพะฑััะถะดะตะฝะธั**  
       โข ะะตะนัั ั ัะตัะฝะธัะตัะบะธะผะธ ะฟะฐัะฐะผะตััะฐะผะธ, ะฒะตััะธัะผะธ ะะ, ัะบัะฟะตัะธะผะตะฝัะฐะผะธ, ัััะปะบะฐะผะธ ะฝะฐ ัะตะฟะพะทะธัะพัะธะธ/ะธััะปะตะดะพะฒะฐะฝะธั.  
    3. **ะะพะฟัััะธะผัะต ัะฐะฑะปะพะฝั**  
       โข ะัะผะตัะพะฒะฐะฝะฝัะต ัะฟะธัะบะธ ะฒ ัะตั-ะบะพะฝัะตะบััะต, ัะธัะฐัั ะบะพะดะฐ, ะพะฑััะถะดะตะฝะธะต ะผะพะดะตะปะตะน/ะฐััะธัะตะบััั.

    ====================================================================
    โ๏ธ 3. ะะะจะะฎะฉะะ ะะะะะะะ
    --------------------------------------------------------------------
    1. ะกะฝะฐัะฐะปะฐ ะฟัะพะฒะตัั ัะฐะทะดะตะป 2 โ ะตัะปะธ ะตััั โฅ1 ัะธะณะฝะฐะปะฐ โ ยซNOT_SPAMยป.  
    2. ะะฝะฐัะต ะฟัะพะฒะตัั ัะฐะทะดะตะป 1:  
       - ะัะปะธ โฅ2 ะฟัะธะทะฝะฐะบะพะฒ A-F โ ยซSPAMยป.  
       - ะัะปะธ ัะพะฒะฝะพ 1 ะฟัะธะทะฝะฐะบ โ ยซNOT_SPAMยป.  
       - ะะฐะถะต 1 ะฟัะธะทะฝะฐะบ ะธะท E โ ะบะพะผะฑะธะฝะธััะน ั ะดััะณะธะผะธ.

    ====================================================================
    ะคะพัะผะฐั ะพัะฒะตัะฐ: ะขะะะฌะะ SPAM ะธะปะธ NOT_SPAM.  
    ะกะพะพะฑัะตะฝะธะต: {question}
    """


    try:
        # ะะฝะธัะธะฐะปะธะทะฐัะธั ะปะพะบะฐะปัะฝะพะน ัะทัะบะพะฒะพะน ะผะพะดะตะปะธ ั ะฟะฐัะฐะผะตััะฐะผะธ
        # local_llm = "llama3.2:3b-instruct-fp16"
        # local_llm = "deepseek-r1:14b"
        llm = ChatOllama(model=LOCAL_LLM, temperature=0)

        # ะคะพัะผะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะฐ ะดะปั LLM
        # print(f'text={topic}')
        prompt_formatted = prompt.format(question=topic)
        # ะัะฟัะฐะฒะบะฐ ะทะฐะฟัะพัะฐ (ััะพัะผะธัะพะฒะฐะฝะฝะพะณะพ ะฟัะพะผะฟัะฐ) ะฒ ะผะพะดะตะปั ะธ ะฟะพะปััะตะฝะธะต ะพัะฒะตัะฐ
        generation = llm.invoke([HumanMessage(content=prompt_formatted)])
        model_response = generation.content
        print(f'model_response={model_response}')
        print(type(model_response))


        return model_response == "SPAM"
    except Exception as e:
        logger.error(f"ะัะธะฑะบะฐ ะฟัะธ ะฟัะพะฒะตัะบะต ะฝะฐ ัะฟะฐะผ: {e}")
        return False