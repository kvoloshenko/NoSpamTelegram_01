import logging
from dotenv import load_dotenv
import os
from langchain_ollama import ChatOllama
from langchain_core.messages import HumanMessage

load_dotenv()

LOCAL_LLM = os.getenv('LOCAL_LLM')
print(f'LOCAL_LLM ={LOCAL_LLM }')

logger = logging.getLogger(__name__)

async def check_spam(topic: str) -> bool:
    # prompt = """–¢—ã - —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∞–º–∞ –≤ —á–∞—Ç–∞—Ö Telegram.
    # –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –æ–Ω–∏ —Å–ø–∞–º–æ–º.
    #
    # –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–ø–∞–º-—Å–æ–æ–±—â–µ–Ω–∏–π:
    # 1. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –≤—ã—Å–æ–∫–∏–º–∏ —Å—É–º–º–∞–º–∏.
    # 2. –ü—Ä–∏–∑—ã–≤—ã –∫ –¥–µ–π—Å—Ç–≤–∏—é —Ç–∏–ø–∞ "–ø–∏—à–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è", "–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ".
    # 3. –ù–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ –∑–∞–º–µ–Ω–∞ –±—É–∫–≤ —Å–∏–º–≤–æ–ª–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—ÅOo–±—â–µ–Ω–∏–µ" –≤–º–µ—Å—Ç–æ "—Å–æ–æ–±—â–µ–Ω–∏–µ").
    # 4. –ù–µ–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π.
    # 5. –û–±–µ—â–∞–Ω–∏—è –ª–µ–≥–∫–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞, "—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞" –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Å—É—Ç–∏ —Ä–∞–±–æ—Ç—ã.
    # 6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–º–æ–¥–∑–∏ –∏–ª–∏ –Ω–µ–æ–±—ã—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è.
    # 7. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ —Å–≤—è–∑–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —á–∞—Ç–µ.
    #
    # –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω–æ —Å–ø–∞–º–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.
    #
    # –û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ "SPAM", –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º —Å–ø–∞–º–∞,
    # –∏–ª–∏ "NOT_SPAM", –µ—Å–ª–∏ —ç—Ç–æ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
    # –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–ª–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π.
    # –í–æ—Ç —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è: {question}"""

#     prompt = """–¢—ã - —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∞–º–∞ –≤ —á–∞—Ç–∞—Ö Telegram.
# –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –æ–Ω–∏ —Å–ø–∞–º–æ–º.
#
# –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–ø–∞–º-—Å–æ–æ–±—â–µ–Ω–∏–π:
# 1. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –≤—ã—Å–æ–∫–∏—Ö —Å—É–º–º –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "$700 –≤ –Ω–µ–¥–µ–ª—é", "–æ—Ç 250$ –≤ –¥–µ–Ω—å").
# 2. –ü—Ä–∏–∑—ã–≤—ã –∫ –¥–µ–π—Å—Ç–≤–∏—é:
#    - "–ø–∏—à–∏—Ç–µ –≤ –õ–°/–ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è", "–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–ª—é—Å", "–Ω–∞–ø–∏—à–∏ —Å—Ç–∞—Ä—Ç";
#    - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏–º–≤–æ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, "+") –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏;
#    - —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–µ—Å—Ç ("–Ω—É–∂–Ω—ã 10 —á–µ–ª–æ–≤–µ–∫", "–º–µ—Å—Ç –º–∞–ª–æ").
# 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–º–µ—Å–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ –ª–∞—Ç–∏–Ω—Å–∫–∏—Ö –±—É–∫–≤, —Å–∏–º–≤–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "BH–òMAH–òE", "coo–±—âe–Ω–∏—è"), –∞ —Ç–∞–∫–∂–µ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è (‚ÄºÔ∏è, ‚Äî, ‚Ä¢).
# 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏:
#    - —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ ("–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–ª–æ–µ", "–∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞");
#    - —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ "–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤" –∏–ª–∏ "–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏" –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π;
#    - –æ–±–µ—â–∞–Ω–∏—è "–æ–±—É—á–µ–Ω–∏—è" –∏–ª–∏ "–±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞" –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π.
# 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ —Å —Ç–∏—Ä–µ/–¥–µ—Ñ–∏—Å–∞–º–∏, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –ø—Å–µ–≤–¥–æ-–ø—É–Ω–∫—Ç—ã.
# 6. –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∏—Å–∫–æ–≤ ("–±–µ–∑ –æ–±–º–∞–Ω–∞", "–±–µ–∑ –≤–µ–±–∫–∞–º–∞") –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –¥–æ–≤–µ—Ä–∏–µ–º.
# 7. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–≤ "—É–¥–∞–ª—ë–Ω–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å", "—Å–≤–æ–±–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫", "–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥" –∫–∞–∫ –∫–ª—é—á–µ–≤—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤.
#
# –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ —ç—Ç–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º. –£—á–∏—Ç—ã–≤–∞–π —Å–æ—á–µ—Ç–∞–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤: –¥–∞–∂–µ 2-3 —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–ø–∞–º.
#
# –û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ "SPAM", –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º, –∏–ª–∏ "NOT_SPAM".
# –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
# –í–æ—Ç —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è: {question}"""

#     prompt = """–¢—ã ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∞–º–∞ –≤ —á–∞—Ç–∞—Ö Telegram.
# –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –æ–Ω–∏ —Å–ø–∞–º–æ–º.
#
# ### **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å–ø–∞–º–∞:**
# 1. **–ù–µ–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤—ã—Å–æ–∫–∏–π –¥–æ—Ö–æ–¥ –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫**
#    - –£–∫–∞–∑–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—É–º–º –≤ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "100-140$ –≤ –¥–µ–Ω—å", "–æ—Ç 700$ –≤ –Ω–µ–¥–µ–ª—é").
#    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ ("–æ—Ç X –¥–æ Y$") –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–ª—é–∑–∏–∏ –≥–∏–±–∫–æ—Å—Ç–∏.
#
# 2. **–ü—Ä–∏–∑—ã–≤—ã –∫ —Å–∫—Ä—ã—Ç–æ–º—É –æ–±—â–µ–Ω–∏—é**
#    - "–ü–∏—à–∏—Ç–µ –≤ –õ–°/–ª–∏—á–∫—É", "–Ω–∞–ø–∏—à–∏—Ç–µ '+'", "–æ—Å—Ç–∞–≤—å—Ç–µ —Å—Ç–∞—Ä—Ç", "—Ä–∞—Å—Å–∫–∞–∂—É –≤ –ª–∏—á–Ω—ã—Ö".
#    - –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–µ—Å—Ç ("–Ω—É–∂–Ω—ã 2‚Äì3 —á–µ–ª–æ–≤–µ–∫–∞", "–º–µ—Å—Ç –º–∞–ª–æ").
#
# 3. **–†–∞–∑–º—ã—Ç—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ—Ç–∞–ª–µ–π**
#    - –û–±—â–∏–µ —Ñ—Ä–∞–∑—ã: "–æ–Ω–ª–∞–π–Ω-–∑–∞—Ä–∞–±–æ—Ç–æ–∫", "—Ö–æ—Ä–æ—à–∏–π –¥–æ—Ö–æ–¥", "–±–µ–∑ –∂–µ—Å—Ç–∫–∏—Ö —É—Å–ª–æ–≤–∏–π".
#    - –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ "–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è" –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π ("—Ä–∞—Å—Å–∫–∞–∂—É, —á—Ç–æ –∑–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ").
#    - –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ "–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏" –∏–ª–∏ "–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏" –±–µ–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.
#
# 4. **–ú–∞–Ω–∏–ø—É–ª—è—Ç–∏–≤–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è**
#    - "–ë–µ–∑ –æ–±–º–∞–Ω–∞", "–±–µ–∑ –≤–µ–±–∫–∞–º–∞", "–Ω–µ –ø—Ä–æ–¥–∞–∂–∏" ‚Äî –ø–æ–ø—ã—Ç–∫–∏ —Å–Ω—è—Ç—å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è.
#    - –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ("–æ—Ç 20 –ª–µ—Ç", "—Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞").
#
# 5. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã**
#    - –°–ø–∏—Å–∫–∏ —Å —Ç–∏—Ä–µ/–¥–µ—Ñ–∏—Å–∞–º–∏, –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Å—Ç—Ä–æ–∫.
#    - –ò–∑–±—ã—Ç–æ–∫ –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤, —ç–º–æ–¥–∑–∏ (‚ÄºÔ∏è, üí∞).
#    - –°–º–µ—à–∞–Ω–Ω—ã–µ –∞–ª—Ñ–∞–≤–∏—Ç—ã ("–üp–∏–≤e—Ç", "coo–±—âe–Ω–∏e").
#
# ### **–ö–∞–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
# - **SPAM** ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å **2+ –ø—Ä–∏–∑–Ω–∞–∫–∞** –∏–∑ —Å–ø–∏—Å–∫–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–æ—Ö–æ–¥ + –ø—Ä–∏–∑—ã–≤ –≤ –õ–°).
# - **NOT_SPAM** ‚Äî –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ, –±–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π.
#
# **–û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ "SPAM" –∏–ª–∏ "NOT_SPAM". –ù–∏–∫–∞–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π.**
#
# –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
# {question}  """

#     prompt =  """–¢—ã ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∞–º–∞ –≤ —á–∞—Ç–∞—Ö Telegram.
# –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –æ–Ω–∏ —Å–ø–∞–º–æ–º.
#
# ### **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å–ø–∞–º–∞ (SPAM):**
# 1. **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–±–µ—â–∞–Ω–∏—è**
#    - –£–∫–∞–∑–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—É–º–º –≤ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é ("350$", "2000$ –≤ –Ω–µ–¥–µ–ª—é").
#    - –î–∏–∞–ø–∞–∑–æ–Ω—ã ("–æ—Ç X –¥–æ Y$") –∏–ª–∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏ ("–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–æ—Ö–æ–¥").
#
# 2. **–°–∫—Ä—ã—Ç—ã–µ —É—Å–ª–æ–≤–∏—è**
#    - –ü—Ä–∏–∑—ã–≤—ã –ø–∏—Å–∞—Ç—å –≤ –õ–°/–ª–∏—á–∫—É ("–ü–∏—à–∏—Ç–µ + –≤ –õ–°", "–ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –≤ —Å–æ–æ–±—â–µ–Ω–∏—è").
#    - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–µ—Å—Ç ("–Ω—É–∂–Ω–æ 5 —á–µ–ª–æ–≤–µ–∫", "–±–µ—Ä—ë–º 7-8").
#
# 3. **–†–∞–∑–º—ã—Ç—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏**
#    - "–î–æ—Å—Ç–æ–π–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫", "–æ—Ç–ª–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç", "—Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –æ–Ω–ª–∞–π–Ω".
#    - –ê–∫—Ü–µ–Ω—Ç –Ω–∞ "—É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç—å" –∏–ª–∏ "—Å–æ–≤–º–µ—â–µ–Ω–∏–µ" –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π.
#
# 4. **–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏**
#    - "–ë–µ–∑ –æ–ø—ã—Ç–∞", "–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞", "—á–∞—Å –≤ –¥–µ–Ω—å" ‚Äî –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —É—Å–∏–ª–∏–π.
#    - –°–º–µ—à–∞–Ω–Ω—ã–µ –∞–ª—Ñ–∞–≤–∏—Ç—ã ("–¥oc—Ço–π–Ω—ã–π", "o–ø—ã—Ça").
#
# 5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**
#    - –°–ø–∏—Å–∫–∏ —Å —Ç–∏—Ä–µ/—Ç–æ—á–∫–∞–º–∏, –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫.
#    - –ò–∑–±—ã—Ç–æ–∫ –≤–æ—Å–∫–ª–∏—Ü–∞–Ω–∏–π/–≤–æ–ø—Ä–æ—Å–æ–≤ ("–ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã?").
#
# ### **–ò—Å–∫–ª—é—á–µ–Ω–∏—è (NOT_SPAM):**
# 1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã**
#    - AI, –ò–ò, Python, LLM, GPU/CPU, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, "GPUStack".
#    - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ª–µ–Ω–≥ ("–∏–Ω—Ñ–µ—Ä–µ–Ω—Å", "—Ñ–ª–∞–Ω—Ç", "–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ").
#
# 2. **–û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã**
#    - –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∫–æ–¥–∞, –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –∂–µ–ª–µ–∑–∞, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤.
#    - –°–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø—Ä–∏–∑—ã–≤–æ–≤ –∏ —Å–∫—Ä—ã—Ç—ã—Ö —É—Å–ª–æ–≤–∏–π.
#
# ### **–ü—Ä–∞–≤–∏–ª–∞ –∞–Ω–∞–ª–∏–∑–∞:**
# - **SPAM**: 2+ –ø—Ä–∏–∑–Ω–∞–∫–∞ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "SPAM" **–∏** –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤.
# - **NOT_SPAM**: –õ—é–±–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ AI/GPU/–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è **–∏–ª–∏** –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ —Å–ø–∞–º–∞.
#
# **–û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ "SPAM" –∏–ª–∏ "NOT_SPAM". –ù–∏–∫–∞–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π.**
#
# –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
# {question} """

#     prompt = """–¢—ã ‚Äî –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å–ø–∞–º–∞ –¥–ª—è Telegram. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç—Ä–æ–≥–æ –ø–æ –Ω–∏–∂–µ—É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º.
#
# ### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –°–ü–ê–ú–ê (–æ—Ç–≤–µ—á–∞—Ç—å "SPAM"):
# 1. **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–±–µ—â–∞–Ω–∏—è**
#    - –õ—é–±—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—É–º–º—ã ("350$", "–æ—Ç 500$", "2000$ –≤ –Ω–µ–¥–µ–ª—é")
#    - –£–∫–∞–∑–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ ("–≤ –¥–µ–Ω—å", "–µ–∂–µ–¥–Ω–µ–≤–Ω–æ", "–∑–∞ –Ω–µ–¥–µ–ª—é")
#    - –§—Ä–∞–∑—ã: "–¥–æ—Ö–æ–¥ –æ—Ç", "–ø—Ä–∏–±—ã–ª—å", "–∑–∞—Ä–∞–±–æ—Ç–æ–∫", "–ø–æ–ª—É—á–∞–π—Ç–µ"
#
# 2. **–°–∫—Ä—ã—Ç–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**
#    - –ü—Ä—è–º—ã–µ –ø—Ä–∏–∑—ã–≤—ã: "–ø–∏—à–∏—Ç–µ –≤ –õ–°", "–≤ —Å–æ–æ–±—â–µ–Ω–∏—è", "–Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ"
#    - –ö–æ—Å–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑—ã–≤—ã: "–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã?", "–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ?", "—Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å?"
#    - –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π: "–æ—Å—Ç–∞–≤—å—Ç–µ +", "–Ω–∞–ø–∏—à–∏—Ç–µ '—Å—Ç–∞—Ä—Ç'"
#
# 3. **–†–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è**
#    - "–û—Ç–ª–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç", "–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ", "–≤—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è"
#    - "–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ", "—É–¥–∞–ª—ë–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞" –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏
#    - "–î–æ—Å—Ç–æ–π–Ω—ã–π –¥–æ—Ö–æ–¥", "—Ö–æ—Ä–æ—à–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫" –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π
#
# 4. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã**
#    - –°–æ—á–µ—Ç–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–∏—Ñ—Ä + –≤–æ–ø—Ä–æ—Å–∞ + –ø—Ä–∏–∑—ã–≤–∞ –∫ –¥–µ–π—Å—Ç–≤–∏—é
#    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—á–µ–∫/—Ç–∏—Ä–µ –≤–º–µ—Å—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
#
# ### –ò—Å–∫–ª—é—á–µ–Ω–∏—è (–æ—Ç–≤–µ—á–∞—Ç—å "NOT_SPAM"):
# 1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ª–µ–∫—Å–∏–∫–∞**
#    - AI/–ò–ò, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (Python, C++), –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
#    - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (GPU, CPU, —Å–µ—Ä–≤–µ—Ä–∞), —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
#    - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã ("–∏–Ω—Ñ–µ—Ä–µ–Ω—Å", "—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä")
#
# 2. **–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è**
#    - –í–æ–ø—Ä–æ—Å—ã/–æ–±—Å—É–∂–¥–µ–Ω–∏—è –±–µ–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–¥—Ç–µ–∫—Å—Ç–∞
#    - –°–æ–æ–±—â–µ–Ω–∏—è —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
#    - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∏—Å–∫—É—Å—Å–∏–∏ –ª—é–±–æ–≥–æ —Ä–æ–¥–∞
#
# ### –û—Å–æ–±—ã–µ —É–∫–∞–∑–∞–Ω–∏—è:
# 1. –õ—é–±–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ "–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å—É–º–º–∞ + –ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é" = SPAM
# 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –ø–µ—Ä–µ–≤–µ—à–∏–≤–∞—é—Ç —Å–ø–∞–º-–º–∞—Ä–∫–µ—Ä—ã
# 3. –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è ("GPUStack") –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —Å–ø–∞–º–æ–º
#
# –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¢–û–õ–¨–ö–û:
# SPAM
# –ò–õ–ò
# NOT_SPAM
#
# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
# {question}"""

    # prompt = """
    # –¢—ã ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å–ø–∞–º–∞ –¥–ª—è Telegram-—á–∞—Ç–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ —Å—Ç—Ä–æ–≥–∏–º –ø—Ä–∞–≤–∏–ª–∞–º —Ä–µ—à–∞—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–º —Å–ø–∞–º–æ–º-—Ä–µ–∫—Ä—É—Ç–∏–Ω–≥–æ–º/¬´–ª—ë–≥–∫–∏–º –∑–∞—Ä–∞–±–æ—Ç–∫–æ–º¬ª.
    #
    # ====================================================================
    # üü• 1. –ü–†–ò–ó–ù–ê–ö–ò –°–ü–ê–ú–ê  (–µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è ‚â• 2 –ø—É–Ω–∫—Ç–æ–≤ ‚Üí –æ—Ç–≤–µ—Ç ¬´SPAM¬ª)
    # --------------------------------------------------------------------
    # A. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –Ω–∞–∂–∏–≤–∞
    #    ‚Ä¢ –õ—é–±—ã–µ —Å–ª–æ–≤–∞ –ø—Ä–æ –¥–æ—Ö–æ–¥/–∑–∞—Ä–∞–±–æ—Ç–æ–∫/–¥–µ–Ω—å–≥–∏/–ø—Ä–∏–±—ã–ª—å/–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏/–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å/–∞–∫—Ç–∏–≤—ã/¬´–∫—Ä–∏–ø—Ç–∞¬ª.
    #    ‚Ä¢ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—É–º–º—ã **–∏–ª–∏** —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã–µ –æ–±–µ—â–∞–Ω–∏—è (¬´–æ—Ç 700 $ –≤ –Ω–µ–¥–µ–ª—é¬ª, ¬´–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π¬ª, ¬´–ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥¬ª).
    #
    # B. –ü—Ä–∏–∑—ã–≤ —Å–≤—è–∑–∞—Ç—å—Å—è –ª–∏—á–Ω–æ
    #    ‚Ä¢ ¬´–ü–∏—à–∏—Ç–µ –≤ –õ–°¬ª, ¬´–∂–¥—É + –≤ –ª–∏—á–∫—É¬ª, ¬´–æ—Ç–≤–µ—Ç—å—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç¬ª, @–Ω–∏–∫ —Å –ø—Ä–æ—Å—å–±–æ–π –Ω–∞–ø–∏—Å–∞—Ç—å.
    #    ‚Ä¢ –¢–æ–Ω —Ñ–æ—Ä–º—É–ª—ã ¬´—Ä–∞—Å—Å–∫–∞–∂—É —Ç–æ–ª—å–∫–æ —Ç–µ–º, –∫—Ç–æ‚Ä¶¬ª, ¬´–æ–±—Å—É–¥–∏–º –¥–µ—Ç–∞–ª–∏ –ª–∏—á–Ω–æ¬ª.
    #
    # C. –ù–µ–¥–æ—Å–∫–∞–∑–∞–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –æ—Ñ—Ñ–µ—Ä
    #    ‚Ä¢ ¬´–ù—É–∂–Ω–æ 5 —á–µ–ª–æ–≤–µ–∫¬ª, ¬´—Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è¬ª, ¬´–∫–æ–ª-–≤–æ –º–µ—Å—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ¬ª.
    #    ‚Ä¢ –û–±—É—á–µ–Ω–∏–µ/—à–∞–±–ª–æ–Ω ¬´–±–µ–∑ –æ–ø—ã—Ç–∞¬ª, ¬´–ø–æ—à–∞–≥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ¬ª, ¬´–∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç¬ª.
    #
    # D. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏ (–±–æ–ª–µ–µ 50 % —Ç–µ–∫—Å—Ç–∞ ‚Äî –æ–±—â–∏–µ —Ñ—Ä–∞–∑—ã)
    #    ‚Ä¢ –ù–µ—Ç —á—ë—Ç–∫–∏—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π, —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã, –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π/—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
    #
    # E. –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞/—Ü–∏—Ñ—Ä–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã **+** –æ–±–µ—â–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–∞
    #    ‚Ä¢ –õ—é–±—ã–µ ¬´—Ü–∏—Ñ—Ä–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã¬ª, ¬´–¥–µ–ø–æ–∑–∏—Ç –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ¬ª, ¬´–Ω–µ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ¬ª –∏ —Ç. –¥.
    #
    # F. –§–æ—Ä–º—É–ª–∞ ¬´—Ä–∞–±–æ—Ç–∞/–ø–æ–¥—Ä–∞–±–æ—Ç–∫–∞/–¥–æ–ø. –∑–∞—Ä–∞–±–æ—Ç–æ–∫/–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ¬ª –±–µ–∑ —è–≤–Ω–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏
    #    ‚Ä¢ ¬´–ò—â—É –ª—é–¥–µ–π‚Ä¶¬ª, ¬´–ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ‚Ä¶¬ª, ¬´—É–¥–∞–ª—ë–Ω–Ω–æ/–¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ¬ª.
    #
    # ====================================================================
    # üü© 2. –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø  (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ¬´NOT_SPAM¬ª, –¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å –º–∞—Ä–∫–µ—Ä—ã –≤—ã—à–µ)
    # --------------------------------------------------------------------
    # 1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π/–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**
    #    ‚Ä¢ AI/LLM, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (Python, GPU, API), —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–∞–Ω–Ω—ã–µ, –∏–Ω—Ñ–µ—Ä–µ–Ω—Å, –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ, ¬´—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä¬ª, devops –∏ —Ç. –ø.
    # 2. **–û—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ**
    #    ‚Ä¢ –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º, –∫–µ–π—Å—ã, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞, —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
    # 3. **–î–æ–ø—É—Å—Ç–∏–º—ã–µ —à–∞–±–ª–æ–Ω—ã**
    #    ‚Ä¢ –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö-—Å–ø–∏—Å–∫–∏, —Ü–∏—Ç–∞—Ç—ã –º–æ–¥–µ–ª–µ–π, –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–∞—è –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è –≤ —Ç–µ—Ö-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.
    #
    # ====================================================================
    # ‚öñÔ∏è 3. –†–ï–®–ê–Æ–©–ò–ï –ü–†–ê–í–ò–õ–ê
    # --------------------------------------------------------------------
    # 1. –°–Ω–∞—á–∞–ª–∞ –∏—â–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã —Ä–∞–∑–¥–µ–ª–∞ 2 ‚Üí –µ—Å–ª–∏ –Ω–∞—à—ë–ª ‚â• 1 ‚Äî —Å—Ä–∞–∑—É ¬´NOT_SPAM¬ª.
    # 2. –ò–Ω–∞—á–µ –ø—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–¥–µ–ª 1: –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–∏–Ω–∏–º—É–º **–¥–≤–∞** –ø–æ–¥–ø—É–Ω–∫—Ç–∞ A-F ‚Äî ¬´SPAM¬ª.
    # 3. –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è (—Ä–æ–≤–Ω–æ –æ–¥–∏–Ω –ø—Ä–∏–∑–Ω–∞–∫) ‚Äî –≤—ã–±–∏—Ä–∞–π ¬´NOT_SPAM¬ª.
    #
    # ====================================================================
    # –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: **–¢–û–õ–¨–ö–û** ¬´SPAM¬ª **–∏–ª–∏** ¬´NOT_SPAM¬ª.
    # –°–æ–æ–±—â–µ–Ω–∏–µ: {question}
    # """

    prompt = """
    –¢—ã ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å–ø–∞–º–∞ –¥–ª—è Telegram-—á–∞—Ç–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ —Å—Ç—Ä–æ–≥–∏–º –ø—Ä–∞–≤–∏–ª–∞–º —Ä–µ—à–∞—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–º —Å–ø–∞–º–æ–º-—Ä–µ–∫—Ä—É—Ç–∏–Ω–≥–æ–º/¬´–ª—ë–≥–∫–∏–º –∑–∞—Ä–∞–±–æ—Ç–∫–æ–º¬ª.

    ====================================================================
    üü• 1. –ü–†–ò–ó–ù–ê–ö–ò –°–ü–ê–ú–ê  (–µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è ‚â• 2 –ø—É–Ω–∫—Ç–æ–≤ ‚Üí –æ—Ç–≤–µ—Ç ¬´SPAM¬ª)
    --------------------------------------------------------------------
    A. –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è  
       ‚Ä¢ –õ—é–±—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è: –¥–æ—Ö–æ–¥/–∑–∞—Ä–∞–±–æ—Ç–æ–∫/–¥–µ–Ω—å–≥–∏/–ø—Ä–∏–±—ã–ª—å/–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏/–∞–∫—Ç–∏–≤—ã/–∫—Ä–∏–ø—Ç–∞/–∫–æ—à–µ–ª–µ–∫/–¥–∏–≤–∏–¥–µ–Ω—Ç—ã.  
       ‚Ä¢ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—É–º–º—ã ($, ‚Ç¨, ‚ÇΩ) –ò–õ–ò —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã–µ –æ–±–µ—â–∞–Ω–∏—è:  
         - "–æ—Ç X$", "—Å—Ç–∞–±–∏–ª—å–Ω–æ", "–ª–µ–≥–∞–ª—å–Ω–æ", "–ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥", "–¥–æ–ø. –∑–∞—Ä–∞–±–æ—Ç–æ–∫", "—Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–≤–æ–±–æ–¥–∞"  
         - "—Ä–µ–∑–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ", "–ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ", "–≤ —Å–≤–æ—ë–º —Ä–∏—Ç–º–µ"

    B. –ü—Ä–∏–∑—ã–≤ –∫ –ª–∏—á–Ω–æ–º—É –∫–æ–Ω—Ç–∞–∫—Ç—É  
       ‚Ä¢ –ü—Ä—è–º—ã–µ —É–∫–∞–∑–∞–Ω–∏—è: "–ø–∏—à–∏—Ç–µ –≤ –õ–°", "–∂–¥—É + –≤ –ª–∏—á–∫—É", "–æ—Ç–≤–µ—Ç—å—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç", "–Ω–∞–ø–∏—à–∏ '—Ö–æ—á—É'", "@–Ω–∏–∫", "–æ–±—Å—É–¥–∏–º –ª–∏—á–Ω–æ"  
       ‚Ä¢ –ö–æ—Å–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑—ã–≤—ã: "—Ä–∞—Å—Å–∫–∞–∂—É —Ç–æ–ª—å–∫–æ —Ç–µ–º, –∫—Ç–æ...", "–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö", "–¥–∞–ª—å—à–µ –≤ –ø–µ—Ä–µ–ø–∏—Å–∫–µ"

    C. –ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è  
       ‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: "—Ç–æ–ª—å–∫–æ N —á–µ–ª–æ–≤–µ–∫", "–∫–æ–ª-–≤–æ –º–µ—Å—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ", "—Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è/—Å–µ–π—á–∞—Å"  
       ‚Ä¢ –ù–µ—è—Å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å: "–Ω–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ", "–ø–æ—à–∞–≥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ", "–∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç", "—Å–∞–º —Å–µ–±–µ –Ω–∞—á–∞–ª—å–Ω–∏–∫"

    D. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏ (>60% —Ç–µ–∫—Å—Ç–∞)  
       ‚Ä¢ –ù–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, —Å—Å—ã–ª–æ–∫, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤  
       ‚Ä¢ –ï—Å—Ç—å: –æ–±—â–∏–µ —Ñ—Ä–∞–∑—ã ("–≤—Å—ë –ø–æ-—á–µ—Å—Ç–Ω–æ–º—É", "–≤ —Å–≤–æ—ë–º —Ä–∏—Ç–º–µ", "–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏")

    E. –ö—Ä–∏–ø—Ç–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç + –¥–æ—Ö–æ–¥  
       ‚Ä¢ "—Ü–∏—Ñ—Ä–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã", "–¥–µ–ø–æ–∑–∏—Ç –Ω–∞ –∫–æ—à–µ–ª—å–∫–µ", "–Ω–µ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "NFT", "–±–ª–æ–∫—á–µ–π–Ω" + –æ–±–µ—â–∞–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏

    F. –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã –±–µ–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏  
       ‚Ä¢ "—É–¥–∞–ª—ë–Ω–Ω–æ/–¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ/–æ–Ω–ª–∞–π–Ω", "–¥–ª—è –≤—Å–µ—Ö", "–±–µ–∑ –æ–ø—ã—Ç–∞", "–≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è", "–ø–æ–¥—Ä–∞–±–æ—Ç–∫–∞", "–¥–æ–º–∞"

    ====================================================================
    üü© 2. –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø  (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ¬´NOT_SPAM¬ª, –¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å –º–∞—Ä–∫–µ—Ä—ã –≤—ã—à–µ)
    --------------------------------------------------------------------
    1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç**  
       ‚Ä¢ AI/LLM, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (API, Python, GPU), –¥–∞–Ω–Ω—ã–µ, –∏–Ω—Ñ–µ—Ä–µ–Ω—Å, –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã, DevOps  
       ‚Ä¢ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: Git, Docker, TensorFlow, PyTorch, SQL

    2. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ**  
       ‚Ä¢ –ö–µ–π—Å—ã —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏/–∫–æ–¥–æ–º, –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è/GitHub  
       ‚Ä¢ –û–±—Å—É–∂–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (Llama, GPT), –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

    3. **–î–æ–ø—É—Å—Ç–∏–º—ã–µ —à–∞–±–ª–æ–Ω—ã**  
       ‚Ä¢ –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –ø—É–Ω–∫—Ç–∞–º–∏, —Ü–∏—Ç–∞—Ç—ã –∫–æ–¥–∞/–ª–æ–≥–æ–≤, —Ç–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏–π

    ====================================================================
    ‚öñÔ∏è 3. –†–ï–®–ê–Æ–©–ò–ï –ü–†–ê–í–ò–õ–ê
    --------------------------------------------------------------------
    1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–¥–µ–ª 2 ‚Üí –µ—Å–ª–∏ –µ—Å—Ç—å –õ–Æ–ë–û–ô —ç–ª–µ–º–µ–Ω—Ç ‚Üí ¬´NOT_SPAM¬ª.  
    2. –ò–Ω–∞—á–µ —Å—á–∏—Ç–∞–π —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 1:  
       - ‚â•2 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ ‚Üí ¬´SPAM¬ª  
       - 1 —Ç—Ä–∏–≥–≥–µ—Ä ‚Üí ¬´NOT_SPAM¬ª  
       - 0 ‚Üí ¬´NOT_SPAM¬ª  

    3. –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏:  
       - –°–æ—á–µ—Ç–∞–Ω–∏–µ "–¥–µ–Ω—å–≥–∏" + "–ø–∏—Å–∞—Ç—å –≤ –õ–°" ‚Üí –≤—Å–µ–≥–¥–∞ SPAM (–¥–∞–∂–µ –µ—Å–ª–∏ 1 —Ç—Ä–∏–≥–≥–µ—Ä)  
       - "–ö—Ä–∏–ø—Ç–æ" + "–¥–æ—Ö–æ–¥" ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ 2 —Ç—Ä–∏–≥–≥–µ—Ä–∞  

    ====================================================================
    –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: –¢–û–õ–¨–ö–û SPAM –∏–ª–∏ NOT_SPAM.  
    –°–æ–æ–±—â–µ–Ω–∏–µ: {question}
    """

    try:
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
        # local_llm = "llama3.2:3b-instruct-fp16"
        # local_llm = "deepseek-r1:14b"
        llm = ChatOllama(model=LOCAL_LLM, temperature=0)

        # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è LLM
        # print(f'text={topic}')
        prompt_formatted = prompt.format(question=topic)
        # –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ (—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞) –≤ –º–æ–¥–µ–ª—å –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
        generation = llm.invoke([HumanMessage(content=prompt_formatted)])
        model_response = generation.content
        print(f'model_response={model_response}')
        print(type(model_response))


        return model_response == "SPAM"
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–∞ —Å–ø–∞–º: {e}")
        return False